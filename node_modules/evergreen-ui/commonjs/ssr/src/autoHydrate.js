"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.hydrate = hydrate;
exports.default = autoHydrate;

var _uiBox = require("ui-box");

var _glamor = require("glamor");

/**
 * You shouldn't have to manually run this.
 * This is mainly an export for testing purposes.
 */
function hydrate(hydration) {
  if (hydration.uiBoxCache) {
    (0, _uiBox.hydrate)(hydration.uiBoxCache);
  }

  if (hydration.glamorIds) {
    (0, _glamor.rehydrate)(hydration.glamorIds);
  }
}

function autoHydrate() {
  if (typeof window !== 'undefined' && typeof document !== 'undefined') {
    var hydration = document.getElementById('evergreen-hydrate');

    if (hydration) {
      try {
        var hydrationObject = JSON.parse(hydration.innerHTML);
        hydrate(hydrationObject);
      } catch (error) {
        console.error('Evergreen automatic hydration object is invalid JSON', error);
      }
    }
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9zc3Ivc3JjL2F1dG9IeWRyYXRlLmpzIl0sIm5hbWVzIjpbImh5ZHJhdGUiLCJoeWRyYXRpb24iLCJ1aUJveENhY2hlIiwiZ2xhbW9ySWRzIiwiYXV0b0h5ZHJhdGUiLCJ3aW5kb3ciLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiaHlkcmF0aW9uT2JqZWN0IiwiSlNPTiIsInBhcnNlIiwiaW5uZXJIVE1MIiwiZXJyb3IiLCJjb25zb2xlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOztBQUNBOztBQUVBOzs7O0FBSU8sU0FBU0EsT0FBVCxDQUFpQkMsU0FBakIsRUFBNEI7QUFDakMsTUFBSUEsU0FBUyxDQUFDQyxVQUFkLEVBQTBCO0FBQ3hCLHdCQUFXRCxTQUFTLENBQUNDLFVBQXJCO0FBQ0Q7O0FBRUQsTUFBSUQsU0FBUyxDQUFDRSxTQUFkLEVBQXlCO0FBQ3ZCLDJCQUFVRixTQUFTLENBQUNFLFNBQXBCO0FBQ0Q7QUFDRjs7QUFFYyxTQUFTQyxXQUFULEdBQXVCO0FBQ3BDLE1BQUksT0FBT0MsTUFBUCxLQUFrQixXQUFsQixJQUFpQyxPQUFPQyxRQUFQLEtBQW9CLFdBQXpELEVBQXNFO0FBQ3BFLFFBQU1MLFNBQVMsR0FBR0ssUUFBUSxDQUFDQyxjQUFULENBQXdCLG1CQUF4QixDQUFsQjs7QUFFQSxRQUFJTixTQUFKLEVBQWU7QUFDYixVQUFJO0FBQ0YsWUFBTU8sZUFBZSxHQUFHQyxJQUFJLENBQUNDLEtBQUwsQ0FBV1QsU0FBUyxDQUFDVSxTQUFyQixDQUF4QjtBQUNBWCxRQUFBQSxPQUFPLENBQUNRLGVBQUQsQ0FBUDtBQUNELE9BSEQsQ0FHRSxPQUFPSSxLQUFQLEVBQWM7QUFDZEMsUUFBQUEsT0FBTyxDQUFDRCxLQUFSLENBQ0Usc0RBREYsRUFFRUEsS0FGRjtBQUlEO0FBQ0Y7QUFDRjtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaHlkcmF0ZSBhcyBib3hIeWRyYXRlIH0gZnJvbSAndWktYm94J1xuaW1wb3J0IHsgcmVoeWRyYXRlIH0gZnJvbSAnZ2xhbW9yJ1xuXG4vKipcbiAqIFlvdSBzaG91bGRuJ3QgaGF2ZSB0byBtYW51YWxseSBydW4gdGhpcy5cbiAqIFRoaXMgaXMgbWFpbmx5IGFuIGV4cG9ydCBmb3IgdGVzdGluZyBwdXJwb3Nlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGUoaHlkcmF0aW9uKSB7XG4gIGlmIChoeWRyYXRpb24udWlCb3hDYWNoZSkge1xuICAgIGJveEh5ZHJhdGUoaHlkcmF0aW9uLnVpQm94Q2FjaGUpXG4gIH1cblxuICBpZiAoaHlkcmF0aW9uLmdsYW1vcklkcykge1xuICAgIHJlaHlkcmF0ZShoeWRyYXRpb24uZ2xhbW9ySWRzKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGF1dG9IeWRyYXRlKCkge1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJykge1xuICAgIGNvbnN0IGh5ZHJhdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdldmVyZ3JlZW4taHlkcmF0ZScpXG5cbiAgICBpZiAoaHlkcmF0aW9uKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBoeWRyYXRpb25PYmplY3QgPSBKU09OLnBhcnNlKGh5ZHJhdGlvbi5pbm5lckhUTUwpXG4gICAgICAgIGh5ZHJhdGUoaHlkcmF0aW9uT2JqZWN0KVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAnRXZlcmdyZWVuIGF1dG9tYXRpYyBoeWRyYXRpb24gb2JqZWN0IGlzIGludmFsaWQgSlNPTicsXG4gICAgICAgICAgZXJyb3JcbiAgICAgICAgKVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIl19
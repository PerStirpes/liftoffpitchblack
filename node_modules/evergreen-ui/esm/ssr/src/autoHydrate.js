import { hydrate as boxHydrate } from 'ui-box';
import { rehydrate } from 'glamor';
/**
 * You shouldn't have to manually run this.
 * This is mainly an export for testing purposes.
 */

export function hydrate(hydration) {
  if (hydration.uiBoxCache) {
    boxHydrate(hydration.uiBoxCache);
  }

  if (hydration.glamorIds) {
    rehydrate(hydration.glamorIds);
  }
}
export default function autoHydrate() {
  if (typeof window !== 'undefined' && typeof document !== 'undefined') {
    var hydration = document.getElementById('evergreen-hydrate');

    if (hydration) {
      try {
        var hydrationObject = JSON.parse(hydration.innerHTML);
        hydrate(hydrationObject);
      } catch (error) {
        console.error('Evergreen automatic hydration object is invalid JSON', error);
      }
    }
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9zc3Ivc3JjL2F1dG9IeWRyYXRlLmpzIl0sIm5hbWVzIjpbImh5ZHJhdGUiLCJib3hIeWRyYXRlIiwicmVoeWRyYXRlIiwiaHlkcmF0aW9uIiwidWlCb3hDYWNoZSIsImdsYW1vcklkcyIsImF1dG9IeWRyYXRlIiwid2luZG93IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImh5ZHJhdGlvbk9iamVjdCIsIkpTT04iLCJwYXJzZSIsImlubmVySFRNTCIsImVycm9yIiwiY29uc29sZSJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsT0FBTyxJQUFJQyxVQUFwQixRQUFzQyxRQUF0QztBQUNBLFNBQVNDLFNBQVQsUUFBMEIsUUFBMUI7QUFFQTs7Ozs7QUFJQSxPQUFPLFNBQVNGLE9BQVQsQ0FBaUJHLFNBQWpCLEVBQTRCO0FBQ2pDLE1BQUlBLFNBQVMsQ0FBQ0MsVUFBZCxFQUEwQjtBQUN4QkgsSUFBQUEsVUFBVSxDQUFDRSxTQUFTLENBQUNDLFVBQVgsQ0FBVjtBQUNEOztBQUVELE1BQUlELFNBQVMsQ0FBQ0UsU0FBZCxFQUF5QjtBQUN2QkgsSUFBQUEsU0FBUyxDQUFDQyxTQUFTLENBQUNFLFNBQVgsQ0FBVDtBQUNEO0FBQ0Y7QUFFRCxlQUFlLFNBQVNDLFdBQVQsR0FBdUI7QUFDcEMsTUFBSSxPQUFPQyxNQUFQLEtBQWtCLFdBQWxCLElBQWlDLE9BQU9DLFFBQVAsS0FBb0IsV0FBekQsRUFBc0U7QUFDcEUsUUFBTUwsU0FBUyxHQUFHSyxRQUFRLENBQUNDLGNBQVQsQ0FBd0IsbUJBQXhCLENBQWxCOztBQUVBLFFBQUlOLFNBQUosRUFBZTtBQUNiLFVBQUk7QUFDRixZQUFNTyxlQUFlLEdBQUdDLElBQUksQ0FBQ0MsS0FBTCxDQUFXVCxTQUFTLENBQUNVLFNBQXJCLENBQXhCO0FBQ0FiLFFBQUFBLE9BQU8sQ0FBQ1UsZUFBRCxDQUFQO0FBQ0QsT0FIRCxDQUdFLE9BQU9JLEtBQVAsRUFBYztBQUNkQyxRQUFBQSxPQUFPLENBQUNELEtBQVIsQ0FDRSxzREFERixFQUVFQSxLQUZGO0FBSUQ7QUFDRjtBQUNGO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBoeWRyYXRlIGFzIGJveEh5ZHJhdGUgfSBmcm9tICd1aS1ib3gnXG5pbXBvcnQgeyByZWh5ZHJhdGUgfSBmcm9tICdnbGFtb3InXG5cbi8qKlxuICogWW91IHNob3VsZG4ndCBoYXZlIHRvIG1hbnVhbGx5IHJ1biB0aGlzLlxuICogVGhpcyBpcyBtYWlubHkgYW4gZXhwb3J0IGZvciB0ZXN0aW5nIHB1cnBvc2VzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZShoeWRyYXRpb24pIHtcbiAgaWYgKGh5ZHJhdGlvbi51aUJveENhY2hlKSB7XG4gICAgYm94SHlkcmF0ZShoeWRyYXRpb24udWlCb3hDYWNoZSlcbiAgfVxuXG4gIGlmIChoeWRyYXRpb24uZ2xhbW9ySWRzKSB7XG4gICAgcmVoeWRyYXRlKGh5ZHJhdGlvbi5nbGFtb3JJZHMpXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXV0b0h5ZHJhdGUoKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgY29uc3QgaHlkcmF0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V2ZXJncmVlbi1oeWRyYXRlJylcblxuICAgIGlmIChoeWRyYXRpb24pIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGh5ZHJhdGlvbk9iamVjdCA9IEpTT04ucGFyc2UoaHlkcmF0aW9uLmlubmVySFRNTClcbiAgICAgICAgaHlkcmF0ZShoeWRyYXRpb25PYmplY3QpXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICdFdmVyZ3JlZW4gYXV0b21hdGljIGh5ZHJhdGlvbiBvYmplY3QgaXMgaW52YWxpZCBKU09OJyxcbiAgICAgICAgICBlcnJvclxuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iXX0=